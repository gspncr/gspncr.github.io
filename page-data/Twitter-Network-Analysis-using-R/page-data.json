{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/Twitter-Network-Analysis-using-R/","result":{"data":{"site":{"siteMetadata":{"title":"Gary Spencers Blog","social":[{"name":"twitter","url":"https://twitter.com/gspncr"},{"name":"github","url":"https://github.com/gspncr"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"d4988c37-10cd-5278-9b77-8ecf8ce8aefa","excerpt":"Twitter is a network made up of people you follow and people who follow you. These networks follow traits of other networks and analysing…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Twitter Network Analysis using R\",\n  \"date\": \"2014-11-28T00:00:00.000Z\",\n  \"image\": \"./graph.png\",\n  \"imageAlt\": \"A beach at sunset with crashing waves.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Twitter is a network made up of people you follow and people who follow you. These networks follow traits of other networks and analysing them can help identify important players in the network and characteristics the network has. This post will look at investigating a Twitter profile you have access to and visualising this using R.\"), mdx(\"h1\", {\n    \"id\": \"setting-up\"\n  }, \"Setting Up\"), mdx(\"p\", null, \"Each of the code snippets require this setup code below. This installs the packages required and adds them to the project. It also takes care of setting up authentication with Twitter. I have been using a test account I created @ukpollution, so wherever you see ukpollution ensure you change this to your personal Twitter handle. You will also need to have at hand your \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://apps.twitter.com/app/new\"\n  }), \"Twitter API details\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"install.packages(\\\"\\u200BtwitteR\\u200B\\\")\\ninstall.packages(\\\"\\u200BROAuth\\u200B\\\")\\ninstall.packages(\\\"\\u200BRCurl\\u200B\\\")\\ninstall.packages(\\\"\\u200Bhttr\\u200B\\\")\\ninstall.packages(\\\"\\u200Bdevtools\\u200B\\\")\\ninstall.packages(\\\"\\u200Btm\\u200B\\\")\\ninstall.packages(\\\"\\u200Bwordcloud\\u200B\\\")\\ninstall_github(\\\"\\u200Bchristophergandrud/d3Network\\u200B\\\")\\nlibrary(\\u200BtwitteR\\u200B)\\nlibrary(\\u200BROAuth\\u200B)\\nlibrary(\\u200BRCurl\\u200B)\\nlibrary(\\u200Bhttr\\u200B)\\nlibrary(\\u200Bdevtools\\u200B)\\nlibrary(\\u200Btm\\u200B)\\nlibrary(\\u200Bwordcloud\\u200B)\\nlibrary(\\u200Bd3Network\\u200B)\\naccessToken<-\\\"Twitter API Access Token\\u200B\\\"\\naccessSecret<-\\\"\\u200BTwitter API Secret Key\\u200B\\\"\\nconsumerKey<-\\\"\\u200BTwitter API Consumer Key\\u200B\\\"\\nconsumerSecret<-\\\"\\u200BTwitter API Consumer Secret\\\"\\nsetup_twitter_oauth(\\u200BconsumerKey\\u200B,\\u200BconsumerSecret\\u200B,\\u200BaccessToken\\u200B,\\u200BaccessSecret\\u200B)\\n\")), mdx(\"h1\", {\n    \"id\": \"mapping-your-followers\"\n  }, \"Mapping your followers\"), mdx(\"p\", null, \"This script maps the followers of your account along with the number of accounts each is following and being followed by. This R code produces a network of 1 degree, those following @UKPollution.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"user\\u200B<-getUser(\\u200B'ukpollution'\\u200B)\\nstr(\\u200Buser\\u200B)\\nfollowers\\u200B<-\\u200Buser$getFollowers()\\nscreen.name\\u200B<-sapply(\\u200Bfollowers\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getScreenName()\\u200B)\\nfollowers.count\\u200B<-sapply(\\u200Bfollowers\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getFollowersCount()\\u200B)\\ndata\\u200B<-data.frame(\\u200Bscreen.name\\u200B=\\u200Bscreen.name\\u200B,\\u200Bfollowers.count\\u200B=\\u200Bfollowers.count\\u200B)\\nrownames(\\u200Bdata\\u200B)<-\\u200BNULL data$name.count\\u200B<-paste(\\u200Bdata$screen.name\\u200B,\\\"\\u200B,\\u200B\\\",\\u200Bdata$followers.count\\u200B,\\\"\\u200Bfollowers\\u200B\\\",sep=\\\"\\\")\\ndata\\u200B<-\\u200Bdata.frame\\u200B(source=\\\"\\u200Bukpollution\\u200B\\\",target=\\u200Bdata$name.count\\u200B)\\nsetwd(\\\"\\u200B/\\u200B\\\")\\nd3SimpleNetwork( \\u200B\\n  data\\u200B,\\n  width=\\u200B300\\u200B,\\n  height=\\u200B200\\u200B,\\n  textColour=\\\"\\u200Borange\\u200B\\\",\\n  linkColour=\\\"\\u200Bred\\u200B\\\",\\n  opacity=\\u200B0.9\\u200B,\\n  fontsize=\\u200B10\\u200B,\\n  file=\\\"\\u200Bukpollution.html\\u200B\\\")\\n\")), mdx(\"p\", null, \"The output will look like the following:\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"342px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70.46783625730994%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVQoz6VS227TQBD1/7/zDyBA8IAACUUC0bSRQ+vEN+LGsZvYKfE9vqzttXdn2DiVQtsgHjgarc5q5uyZnV1pPp9bluU4jqZpRy4QBIFt28vl0ve8I7EWC9d1V/ZKhO9vsyxL01SSZdkwDCGezWbT6XQ8HiuKkmbZneuoqrpZ3yk3ys21os4UXdcNw9RU9f7Xru/7tm2lqqrKsiwGCHLc5nkuGCFEcLHWtYiaDBBElOQDJPwX4O8pCZ7hmHDitiI18gaAAmfAe+gaYD3gqfKpc8+gpEz4ja7XeRJuPdcwdExtvvcgcSC6RZIi8AfnU3uD5zppPl3ZmPv8XsNi45vG7drDwuXRCtsSKYEmR2BPxadTGMM0ZXHK4wTbOqOohR0ig4OGHWxZi4PTI3HHQHEzlkcYedWrF+2395088j68vXjzjn5/WYxek6uP9eQzds0ZZ8rgchGxeIOxy/SL3p72PyfEnDDf4IFLt14XBSJO037edkV5G6VICJBKbL+osRsWSEOoQ2wSbGIsd2fEfLjJVzNcOj42kSL/oMmmCyy2M7EMQQxMNPzHu59x5vBw0OVq3xRiZntsC6yzQ1Dy6JPgf+A3NLAat5bi2f8AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ukpollution graph\",\n    \"title\": \"ukpollution graph\",\n    \"src\": \"/static/83c218143dca94a59ca85e746481df4d/e2c15/ukpollution-graph.png\",\n    \"srcSet\": [\"/static/83c218143dca94a59ca85e746481df4d/e2c15/ukpollution-graph.png 342w\"],\n    \"sizes\": \"(max-width: 342px) 100vw, 342px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"h1\", {\n    \"id\": \"mapping-those-accounts-that-you-follow\"\n  }, \"Mapping those accounts that you follow\"), mdx(\"p\", null, \"This R code produces a network of 1 degree \\xAD accounts @UKPollution is following.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"user\\u200B<-getUser(\\u200B'ukpollution'\\u200B)\\nstr(\\u200Buser\\u200B)\\nfollowing\\u200B<-\\u200Buser$getFriends()\\nscreen.name\\u200B<-sapply(\\u200Bfollowing\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getScreenName()\\u200B)\\nfollowing.count\\u200B<-sapply(\\u200Bfollowing\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getFriendsCount()\\u200B)\\ndata\\u200B<-data.frame(\\u200Bscreen.name\\u200B=\\u200Bscreen.name\\u200B,\\u200Bfollowing.count\\u200B=\\u200Bfollowing.count\\u200B)\\nrownames(\\u200Bdata\\u200B)<-\\u200BNULL data$name.count\\u200B<-paste(\\u200Bdata$screen.name\\u200B,\\\"\\u200B,\\u200B\\\",\\u200Bdata$following.count\\u200B,\\\"\\u200Bfollowing\\u200B\\\",sep=\\\"\\\")\\ndata\\u200B<-\\u200Bdata.frame\\u200B(source=\\\"\\u200Bukpollution\\u200B\\\",target=\\u200Bdata$name.count\\u200B)\\nsetwd(\\\"\\u200B/\\u200B\\\")\\nd3SimpleNetwork( \\u200B\\n  data\\u200B,\\n  width=\\u200B400\\u200B,\\n  height=\\u200B250\\u200B,\\n  textColour=\\\"\\u200Borange\\u200B\\\",\\n  linkColour=\\\"\\u200Bred\\u200B\\\",\\n  opacity=\\u200B0.9\\u200B,\\n  fontsize=\\u200B10\\u200B,\\n  file=\\\"\\u200BukpollutionOUT.html\\u200B\\\")\\n\")), mdx(\"p\", null, \"The output will look like the following:\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"433px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"62.31884057971014%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVQoz22SwXOaQBTG/cv7N/TSSw89daa3nJJmpk0nnYTGRkQFdBFEQdQVNFlhF1gQdl/RThrb+ju8mZ33vvm+t7stVVU9z7Msq9vtttvtMAzdyQSh0cRxup1OT+vpgwYdITQcjShlRVHwF1pxHO9eIIQ0xzRljKV5lvI84zxnWZ5lPDvUjDW9Y/s3LfgPIQ9QXjNeZrwAycU+B1GBrEDsQdZ/Jlvyb4SQJN0PZk/Icg3TMMzx1HyQ3jexdWW8lLugqSCFBGiGX52lPFQcl6q9xtZgpX3f2NrCeNCVa99UxNqQkQUUQ/YEBYOqODifBqZFbflb33GXpgrGNRg3VLuda/fIdgmeApkI4gHbSLaBkr2Kj66Q8Hrobce6CfZ9cvWJXHyA7pUzNFHwvFytgc5lgo/JAxD1ifiojpJSs4Jw9AiPl/j928W7N6B85L7TGy7H0znQQMSB3C0k8SEj/8Zu0Kdbq4/ygQLtS7i7yLVbrW/bjrvfYRnPGyXk5PzOZSX8iCI78MwB1u9S7XM4VH2zNzN+FAsVIlPu5oc7ZyFU/IwzryQKSA/5NhpjUxlpP62+ktpfwP8qcAfIDNIICgp1eUbcsK9lRIsxTparxfPKBjZtDCE5PlL2fPpJfgEQDZmItRaA1gAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ukpollution out graph\",\n    \"title\": \"ukpollution out graph\",\n    \"src\": \"/static/c217ec868e70a5eb3ddc3e92b9a552a5/55fc0/ukpollution-out-graph.png\",\n    \"srcSet\": [\"/static/c217ec868e70a5eb3ddc3e92b9a552a5/e4d6b/ukpollution-out-graph.png 345w\", \"/static/c217ec868e70a5eb3ddc3e92b9a552a5/55fc0/ukpollution-out-graph.png 433w\"],\n    \"sizes\": \"(max-width: 433px) 100vw, 433px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"h1\", {\n    \"id\": \"mapping-your-followers-followers\"\n  }, \"Mapping your followers\\u2019 followers\"), mdx(\"p\", null, \"This script crawls through followers of @ukpollution and those followers\\u2019 followers to build a total network graph for @ukpollution.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"user\\u200B<-getUser(\\u200B'ukpollution'\\u200B)\\nstr(\\u200Buser\\u200B)\\nfollowers\\u200B<-\\u200Buser$getFollowers()\\nscreen.name\\u200B<-sapply(\\u200Bfollowers\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getScreenName()\\u200B)\\nfollowers.count\\u200B<-sapply(\\u200Bfollowers\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getFollowersCount()\\u200B)\\ndata\\u200B<-\\u200BNULL\\nfor(\\u200Bname\\u200Bin\\u200Bscreen.name\\u200B){\\n  \\u200Buser.tmp\\u200B<-getUser(\\u200Bname\\u200B) \\u200Bname.tmp\\u200B<-paste(\\u200Bname\\u200B,\\\"\\u200B(\\u200B\\\",\\u200Buser.tmp$getFollowersCount()\\u200B,\\\"\\u200B)\\u200B\\\",sep=\\\"\\\") \\u200B\\n  followers.tmp\\u200B<-\\u200Buser.tmp$getFollowers()\\n  \\u200Bscreen.name.tmp\\u200B<-sapply(\\u200Bfollowers.tmp\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getScreenName()\\u200B)\\n  \\u200Bfollowers.count.tmp\\u200B<-sapply(\\u200Bfollowers.tmp\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getFollowersCount()\\u200B) \\u200B\\n  tmp\\u200B<-data.frame(\\u200Bscreen.name\\u200B=s\\u200Bcreen.name.tmp\\u200B,\\u200Bfollowers.count\\u200B=\\u200Bfollowers.count.tmp\\u200B)\\n  rownames(\\u200Btmp\\u200B)<-\\u200BNULL \\u200Btmp$name.count\\u200B<-paste(\\u200Btmp$screen.name\\u200B,\\\"\\u200B(\\u200B\\\",\\u200Btmp$followers.count\\u200B,\\\"\\u200B)\\u200B\\\",sep=\\\"\\\") \\u200B\\n  tmp\\u200B<-data.frame(source=\\u200Bname.tmp\\u200B,target=\\u200Btmp$name.count\\u200B)\\n  data<-rbind(\\u200Bdata\\u200B,\\u200Btmp\\u200B)\\n}\\ntmp\\u200B<-data.frame(\\u200Bscreen.name\\u200B=\\u200Bscreen.name\\u200B,\\u200Bfollowers.count\\u200B=\\u200Bfollowers.count\\u200B)\\nrownames(\\u200Btmp\\u200B)<-\\u200BNULL\\ntmp$name.count\\u200B<-paste(\\u200Btmp$screen.name\\u200B)\\ntmp\\u200B<-data.frame(source=\\\"\\u200Bukpollution\\u200B\\\",target=\\u200Btmp$name.count\\u200B)\\nfinal\\u200B<-rbind(\\u200Btmp\\u200B,\\u200Bdata\\u200B)\\nsetwd(\\\"\\u200B/\\u200B\\\")\\nd3SimpleNetwork(\\n  \\u200Bfinal\\u200B,\\n  width=\\u200B800\\u200B,\\n  height=\\u200B800\\u200B,\\n  textColour=\\\"\\u200B#D95F0E\\u200B\\\",\\n  linkColour=\\\"\\u200B#FEC44F\\u200B\\\",\\n  nodeColour=\\\"\\u200B#D95F0E\\u200B\\\",\\n  opacity=\\u200B0.9\\u200B,\\n  fontsize=\\u200B10\\u200B,\\n  file=\\\"\\u200BUKpollutionNetwork.html\\u200B\\\")\\n\")), mdx(\"p\", null, \"The output will look like the following:\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"923px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"72.7536231884058%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACUElEQVQoz22S20/bMBjF+zfvdUJC7IGHTUJssI4XGPdJQ0MTbJQBQ7BACS2Fdr2wldCWNE2bW23HcRw7lyVlQ3T0k2MpUo5/Jz4npSiKLMuGoXc6itJux6+qqiKEiEuJ5xPmE+o5w0MI6Wo9rSOlohETxk/g2o6UxVLe7ckBY6M+iwbiMBhsfsBpoguTjYM7VPwILjfdbivgfCQjdc/x9BtU3jGFeUNYQ/UiwyhmR04lpAYHKscwYN7g0PB/Mu+3rdN5LTPZ257oZaZgNevBfhh71QqkKVLlZyLmbLRt/Ps7EBesg3EojMPLD6h24vVN38URtyNPY5ZEO2W7uodqAkNgWBxwp7bbP5kDR89JYYzKIlGqzEZhgvKYKvbPFvSDaX3vlbY/A8uxHoZB8Ihc/QpyK8beBLpaQpV9qjd91wwZ8BQRV7dxadmtpJH4xsqu4lbtsf9EzMwGyK+bR3PG4Tt4nbv3FtA+udmxy1vur2UmLTK9TrWGc3vmdhucOI+iSoJpO3XBaVV8j/5Nzme+eYVyaXixQFoF0shCMa1/e2kKa/iu7jv4IedwuB6QaTXaOkTFT+B81q58SZwXntn51+D8vSks2lLZA2bM+NewWB+vwE8yV8swv0TkEm2LTintam16u+GWJmF21jqeMX4swXqJJ0WIUk+L6ds9RzpF18fW8TQqrDrNEiys6JkX3c9j6ua4KW4R9S6MO/NEHD38BYcdkFvXdqesi0zcPPPwrRGv0w0UYwkeurBRB4Qc6/FVUaPjmTJVq7TX5NgOBsz7+QOWYTd7nEFImAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"uk pollution network\",\n    \"title\": \"uk pollution network\",\n    \"src\": \"/static/0297591b582d2028f1bb10212cca246a/23266/uk-pollution-network.png\",\n    \"srcSet\": [\"/static/0297591b582d2028f1bb10212cca246a/e4d6b/uk-pollution-network.png 345w\", \"/static/0297591b582d2028f1bb10212cca246a/1e043/uk-pollution-network.png 690w\", \"/static/0297591b582d2028f1bb10212cca246a/23266/uk-pollution-network.png 923w\"],\n    \"sizes\": \"(max-width: 923px) 100vw, 923px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"h1\", {\n    \"id\": \"charting-the-number-of-retweets-of-a-hashtag\"\n  }, \"Charting the number of retweets of a #hashtag\"), mdx(\"p\", null, \"This R code crawls Twitter for a hashtag (because of rate limiting I limited the set to the 100 most recent tweets).  I crawled the hashtag \\u201C#pollution\\u201D instead, you can set this to whatever you wish \\u2013 it would also work for tweets mentioning an @account or even for strings of text. You can setup paging to capture more retweets and traverse through data returned by Twitter.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"library(\\u200BtwitteR\\u200B)\\nlibrary(\\u200Bstringr\\u200B)\\npollutionTweets\\u200B<-searchTwitter(\\\"\\u200B#pollution\\u200B\\\",n=\\u200B100\\u200B)\\npollutionSample\\u200B<-do.call(\\\"\\u200Brbind\\u200B\\\",lapply(\\u200BpollutionTweets\\u200B,as.data.frame))\\npollutionSample$text\\u200B<-sapply(\\u200BpollutionSample$text\\u200B,function(\\u200Brow\\u200B)iconv(row,to='\\u200BUTF-8\\u200B'))\\ntrim<-function(\\u200Bx\\u200B)sub('\\u200B@\\u200B','',\\u200Bx\\u200B)\\npollutionSample$to\\u200B<-sapply(\\u200BpollutionSample$to\\u200B,function(\\u200Bname\\u200B)trim(\\u200Bname\\u200B))\\npollutionSample$rt\\u200B<-sapply(\\u200BpollutionSample$text\\u200B,function(\\u200Btweet\\u200B)trim(str_match(\\u200Btweet\\u200B,\\\"\\u200B^RT (@[[:alnum:]_]*)\\u200B\\\")[2]))\\nsum(!is.na(\\u200BpollutionSample$rt\\u200B))\\nsum(!is.na(\\u200BpollutionSample$rt\\u200B))/length(\\u200BpollutionSample$rt\\u200B)\\ncountRT\\u200B<-table(\\u200BpollutionSample$rt\\u200B)\\ncountRT\\u200B<-sort(\\u200BcountRT\\u200B)\\ncountRT.subset\\u200B<-subset(\\u200BcountRT\\u200B,\\u200BcountRT\\u200B>2)\\nbarplot(\\u200BcountRT.subset\\u200B,las=2,cex.names=0.75)\\n\")), mdx(\"p\", null, \"The output will look like the following:\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"542px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50.14492753623189%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVklEQVQoz4VS2Y6CUAzl/39nnk2URMc4we0NlxfxqnEBDO5wPdPTXMTMaGzSnNLbnm54cHK/3x9Y2u/kOcbZhXtqe0VR4C/pJ7ISrbWlu3DEbW8ymSBJkn8dPusrfylZllGrDsfjMYwxiONYK74ifNV5FEUYjUao1+toNpuFi2l7fNhut9hsNh9HPZ/PuFwuWjgIAtRqNTQaDXQ6nYpwPp9jt9shTVOEYYh+v49er4fBYKA4HA7R7XZVfd9Hq9ViR2qTjKTiqwg5Mgmv1yvW6zVYgMo1sPvFYoHZbIblcqk2kW+r1UqV35JX7XA6ndrT6cRzKR6PR3s4HOztdrOybCt/gSJlv9/bPM/1W0bXWFkD83K3lm9PAh5LFyI9jiRCgvX6xFLYoSTrRPQznquiOsIfT9CIYYgytpHKRgiNdKE+qlzTUITASEdGCj1yhNhIkUjsWHxfv55V+2GXajrbAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"bar hashtag\",\n    \"title\": \"bar hashtag\",\n    \"src\": \"/static/e97b645f1c19322e5d8756b84351029a/c0388/bar-hashtag.png\",\n    \"srcSet\": [\"/static/e97b645f1c19322e5d8756b84351029a/e4d6b/bar-hashtag.png 345w\", \"/static/e97b645f1c19322e5d8756b84351029a/c0388/bar-hashtag.png 542w\"],\n    \"sizes\": \"(max-width: 542px) 100vw, 542px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")), mdx(\"h1\", {\n    \"id\": \"charting-a-twitter-accounts-tweet-source\"\n  }, \"Charting a Twitter accounts tweet source\"), mdx(\"p\", null, \"This R code crawls a defined number of latest tweets from a user to determine the Twitter client they use most.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-python\"\n  }), \"defineClient\\u200B<-function(\\u200Busername\\u200B,\\u200Btotal\\u200B){ \\u200B\\n  tweeter\\u200B<-userTimeline(\\u200Busername\\u200B,\\u200Bn=total\\u200B) \\u200B\\n  sources\\u200B<-sapply(\\u200Btweeter\\u200B,function(\\u200Bx\\u200B)\\u200Bx$getStatusSource()\\u200B) \\u200B\\n  sources\\u200B<-gsub(\\\"\\u200B\\u200B\\\",\\\"\\\",\\u200Bsources\\u200B)\\n\\u200B  sources\\u200B<-strsplit(\\u200Bsources\\u200B,\\\"\\u200B>\\u200B\\\") \\u200B\\n  sources\\u200B<-sapply(\\u200Bsources\\u200B,function(\\u200Bx\\u200B)ifelse(length(\\u200Bx\\u200B)>1,\\u200Bx[2]\\u200B,\\u200Bx[1]\\u200B)) \\u200B\\n  source_table\\u200B=table(\\u200Bsources\\u200B)\\n  pie(\\u200Bsource_table\\u200B)\\n}\\ndefineClient(\\u201C\\u200Bgspncr\\u200B\\u201D,\\u200B60\\u200B)\\n\")), mdx(\"p\", null, \"The output will look like the following:\\n\", mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"540px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50.14492753623189%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqklEQVQoz61SsQ7CIBTk/z/Cj3B0cnfp4tKkDm0oJYWKQA1J056KDsYAFuMllwfD3bvHgyCBZVk8Q+cYyFqz+XUP8b0JiSX5FHybJJgwJu7tFfuKolcXnKWEHAYopSCE8DWZ0DkHYwystZ5uHLErG2yKEw5Vja7rvNFwN+Wc+5o01Fqjrp9C2rbgjOHYMGxLiqIV/xn5gWmakm+ctZScr0PWbC+WJtvwF9wAgW4UjaE+Y6wAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"twitter source\",\n    \"title\": \"twitter source\",\n    \"src\": \"/static/10b46e9b8062980402e19a7a5ad82110/07484/twitter-source.png\",\n    \"srcSet\": [\"/static/10b46e9b8062980402e19a7a5ad82110/e4d6b/twitter-source.png 345w\", \"/static/10b46e9b8062980402e19a7a5ad82110/07484/twitter-source.png 540w\"],\n    \"sizes\": \"(max-width: 540px) 100vw, 540px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n    \")));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/Twitter-Network-Analysis-using-R/","title":"Twitter Network Analysis using R","tags":[],"date":"November 28, 2014","image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVQoz6WSu07DQBBF7ThZP/aVjbPreJ1YjqUoBRIQhHgUlHQU/P/PHCASJcSC4hajGR1p5kySJAlTIyqBbSxlVf42dwGUfiZLWMgFqlVUvkJpNR2ojcYHjzHmXM/1HDMa5ChRncJ5x2w2mwYsyoLxZmT3vGM4DVhvscHS3DX4e48bHVJLiryYBrRLS//UY94M3W1Ht+0IQ2DzusG/eOIQEY2g3tdorS8Dq6qiO3S0x5a4ixRFQalKzNYQuoCyCtEKwiEgpZx2wyzLyPP8fKdsnhFiYH1co50+CxILwdIt/2bZrRz9Y0/9XrO5+lx77ae818/NL+PjaSQ+RPbXe6y1/wN+i4rbyKpekabpReAHFXDYgPG2twIAAAAASUVORK5CYII=","aspectRatio":2.0408163265306123,"src":"/static/2b4435ca009ba2978e95ee45c6fd6005/630fb/graph.png","srcSet":"/static/2b4435ca009ba2978e95ee45c6fd6005/630fb/graph.png 300w","sizes":"(max-width: 300px) 100vw, 300px"}}},"imageAlt":"A beach at sunset with crashing waves.","imageCaptionText":null,"imageCaptionLink":null,"socialImage":null},"previous":null,"next":{"__typename":"MdxBlogPost","id":"62cd8736-1e75-568c-b449-b7a293b3b681","excerpt":"The graph I will be analysing represents the London Underground Tube System as a network containing nodes (stations) and links (lines). The…","slug":"/Analysing-the-London-Underground-Tube-Network/","title":"Analysing the London Underground Tube Network","date":"March 29, 2015"}},"pageContext":{"id":"d4988c37-10cd-5278-9b77-8ecf8ce8aefa","nextId":"62cd8736-1e75-568c-b449-b7a293b3b681","maxWidth":1380}},"staticQueryHashes":["2744905544","3090755652","386998304","764694655"]}